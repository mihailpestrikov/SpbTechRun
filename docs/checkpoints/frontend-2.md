# Frontend Checkpoint 2

**Дата:** 01.12.2025

## Что сделано с checkpoint 1

### Каталог товаров
- [x] Компонент `ProductCard` (вынесен из HomePage)
- [x] Компонент `ProductGrid` с состояниями загрузки и пустого списка
- [x] Фильтр по цене (от/до) в сайдбаре
- [x] Фиксированная высота карточек товаров (кнопка всегда внизу)

### Иерархические категории
- [x] Тип `CategoryWithChildren` для дерева категорий
- [x] 3-уровневая иерархия категорий в моках (6 корневых → подкатегории → подподкатегории)
- [x] API: `getCategoryTree()`, `searchCategories()`, `getChildCategories()`
- [x] При выборе категории показываются товары из неё и всех подкатегорий

### Модальное окно каталога
- [x] Кнопка "Каталог" в хедере (белая с иконкой)
- [x] Модалка с затемнением фона
- [x] Поиск по категориям (от 2 символов)
- [x] Раскрывающееся дерево категорий (`CategoryTreeItem`)
- [x] Кнопка "Все" для выбора родительской категории

### Поиск в хедере
- [x] Компонент `SearchBar` в хедере
- [x] Поиск по товарам и категориям
- [x] Выпадающий список результатов
- [x] Переход на товар или в категорию по клику

### Навигация
- [x] Breadcrumbs на странице каталога
- [x] Категория читается из URL (`?category=123`)

### Прочее
- [x] Переименование: СтройМаркет → SpbTechRun

## Структура проекта (обновлённая)

```
frontend/src/
├── api/
│   ├── mock-data.ts      # Иерархические категории (50+), 8 товаров
│   ├── products.ts       # + getCategoryTree, searchCategories, searchProducts
│   ├── recommendations.ts
│   ├── auth.ts
│   ├── orders.ts
│   └── client.ts
│
├── components/
│   ├── ui/               # shadcn компоненты
│   ├── layout/
│   │   ├── Header.tsx    # + кнопка Каталог, SearchBar
│   │   ├── PageLayout.tsx
│   │   └── SearchBar.tsx # NEW: поиск в хедере
│   ├── cart/
│   │   └── AddToCartButton.tsx
│   ├── product/          # NEW
│   │   ├── ProductCard.tsx
│   │   └── ProductGrid.tsx
│   └── catalog/          # NEW
│       ├── CatalogModal.tsx
│       └── CategoryTreeItem.tsx
│
├── hooks/
│   └── useProducts.ts    # + useCategoryTree, useCategorySearch, useProductSearch
│
├── store/
├── pages/
└── types/
    └── index.ts          # + CategoryWithChildren
```

## Что осталось

### Этап 3: Рекомендации
- [ ] Карусель рекомендаций на главной (вместо заглушки)
- [ ] Рекомендации в корзине (блок "Добавьте к заказу")
- [ ] Компонент RecommendationCard

### Этап 4: Polish
- [ ] Пагинация товаров
- [ ] Адаптивная вёрстка (мобильная версия)
- [ ] Скелетоны загрузки
- [ ] Toast уведомления
- [ ] 404 страница

### Этап 5: Авторизация
- [ ] ProtectedRoute компонент
- [ ] Редирект после логина

### Интеграция с бэкендом
- [ ] Переключить API с моков на реальные запросы
- [ ] Обработка ошибок API
- [ ] Подготовка к Elasticsearch/Meilisearch для поиска

## Запуск

```bash
cd frontend
npm run dev
```

Откроется на http://localhost:5173

## Тестовые данные

- **Авторизация:** любой email, пароль > 3 символов
- **Категории:** 6 корневых с подкатегориями (всего ~50)
- **Товары:** 8 товаров в разных категориях
